     name: Build Caddy Cloudflare
     on:
       push:
         paths: ['caddy-cloudflare/**']
       schedule:
         - cron: '0 0 * * 0'  # weekly
       workflow_dispatch:

     jobs:
       build:
         runs-on: ubuntu-latest
         permissions:
           contents: read
           packages: write
         steps:
           - uses: actions/checkout@v4
           - uses: docker/login-action@v3
             with:
               registry: ghcr.io
               username: ${{ github.actor }}
               password: ${{ secrets.GITHUB_TOKEN }}
           - uses: docker/build-push-action@v5
             with:
               context: ./caddy-cloudflare
               push: true
               tags: ghcr.io/${{ github.repository_owner }}/caddy-cloudflare:latest